{
  "documentTypes": [
    { "id": "commercial_invoice", "label": "Commercial Invoice", "description": "Standard invoice for goods/services" },
    { "id": "proforma_invoice", "label": "Proforma Invoice", "description": "Preliminary invoice" },
    { "id": "receipt", "label": "Receipt", "description": "Payment confirmation" },
    { "id": "order_confirmation", "label": "Order Confirmation", "description": "Order confirmation" },
    { "id": "purchase_order", "label": "Purchase Order", "description": "Purchase request" },
    { "id": "government_taxes", "label": "Government/Taxes", "description": "Tax documents" }
  ],
  "processing": {
    "concurrency": 5,
    "retryAttempts": 2,
    "retryDelayMs": 1000
  },
  "extraction": {
    "fields": [
      "supplierName",
      "paymentDate",
      "invoiceDate",
      "invoiceNumber",
      "currency",
      "totalAmount",
      "documentTypes",
      "isPrivate"
    ],
    "includeSummary": true,
    "useJsonMode": false
  },
  "fieldDefinitions": [
    {
      "key": "supplierName",
      "label": "Supplier Name",
      "type": "text",
      "format": "none",
      "schemaHint": "Full company/supplier name as it appears on the invoice",
      "instruction": "extract the full company name with proper spacing (e.g., \"Acme Corporation\" not \"AcmeCorporation\")",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "paymentDate",
      "label": "Payment Date",
      "type": "date",
      "format": "iso8601",
      "schemaHint": "ISO 8601 date (YYYY-MM-DD) - the date payment is due",
      "instruction": "look for \"Due Date\", \"Payment Due\", \"Pay By\", or similar fields. Convert to YYYY-MM-DD format. If not found, use the invoiceDate.",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "invoiceDate",
      "label": "Invoice Date",
      "type": "date",
      "format": "iso8601",
      "schemaHint": "ISO 8601 date (YYYY-MM-DD) - the date the invoice was issued",
      "instruction": "convert any date format to YYYY-MM-DD (e.g., \"15 January 2024\" becomes \"2024-01-15\")",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "invoiceNumber",
      "label": "Invoice Number",
      "type": "text",
      "format": "none",
      "schemaHint": "Invoice number/reference",
      "instruction": "extract the invoice number or reference as shown on the document",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "currency",
      "label": "Currency",
      "type": "text",
      "format": "iso4217",
      "schemaHint": "Currency code (e.g., USD, EUR, DKK, NOK, SEK)",
      "instruction": "identify the 3-letter currency code (USD, EUR, DKK, etc.)",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "totalAmount",
      "label": "Total Amount",
      "type": "number",
      "format": "none",
      "schemaHint": "Total amount as a number (no currency symbol, no thousands separators)",
      "instruction": "provide just the numeric value without currency symbol or separators (e.g., \"1500.50\" not \"$1,500.50\")",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "documentTypes",
      "label": "Document Types",
      "type": "array",
      "format": "none",
      "schemaHint": "Array of document type tags that apply to this document",
      "instruction": "analyze the document and return an array of applicable types",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "isPrivate",
      "label": "Private",
      "type": "boolean",
      "format": "none",
      "schemaHint": "Boolean - true if this appears to be a private/personal invoice",
      "instruction": "set to true if the document appears to be a personal/private invoice",
      "enabled": true,
      "builtIn": true
    },
    {
      "key": "supplierUrl",
      "label": "Supplier URL",
      "type": "text",
      "format": "none",
      "schemaHint": "Supplier's website URL",
      "instruction": "extract the supplier's website URL if printed on the document. Return in lowercase without trailing slash. If not present, return \"Unknown\".",
      "enabled": false,
      "builtIn": false
    },
    {
      "key": "bankRegistrationNumber",
      "label": "Bank Reg. No.",
      "type": "text",
      "format": "none",
      "schemaHint": "Bank registration/sort code number",
      "instruction": "extract the bank registration number or sort code from payment details. Preserve as printed including leading zeros. If not present, return \"Unknown\".",
      "enabled": false,
      "builtIn": false
    },
    {
      "key": "bankAccountNumber",
      "label": "Bank Account No.",
      "type": "text",
      "format": "none",
      "schemaHint": "Bank account number (non-IBAN)",
      "instruction": "extract the domestic bank account number from payment details. Preserve as printed. If only IBAN present, return \"Unknown\".",
      "enabled": false,
      "builtIn": false
    },
    {
      "key": "identifierType",
      "label": "Identifier Type",
      "type": "text",
      "format": "none",
      "schemaHint": "Type of business identifier in vatNumber field",
      "instruction": "classify the business identifier type: VAT, CVR, ORG_NUMBER, TAX_ID, or DUNS. If unknown, return \"Unknown\".",
      "enabled": false,
      "builtIn": false
    }
  ],
  "output": {
    "filenameTemplate": "{supplierName} - {paymentDateFormatted}{invoiceDateIfDifferent} - {invoiceNumber} - {currency} - {totalAmount}{privateTag}.pdf",
    "processedOriginalSubfolder": "processed-original",
    "processedEnrichedSubfolder": "processed-enriched",
    "csvFilename": "invoice-log.csv"
  }
}
